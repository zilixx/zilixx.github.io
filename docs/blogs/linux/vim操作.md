---
title: vim简介以及常用快捷键
---
[[toc]]
# vim模式介绍
- 一般模式 \
使用`vi`或`vim`进入，文件中可以删除，复制粘贴。但无法编辑内容。
- 编辑模式\
按下`i,l,o,O,a,A,r,R`进入编辑模式，按下ESC退出编辑模式。
- 命令行模式\
在一般模式下，输入`: \ ?`三个之一进入命令行模式，该模式可以读取保存替换。

# vim常用命令
## 一般模式
|命令|作用|
|---|--|
|ctrl+f|向下翻页|
|ctrl+b|向上翻页|
|n+space|该行向后移动n个字符|
|0或HOME|该行光标移动到最前面|
|$或END|该行光标移动到最后面|
|G|移动到文件的最后一行|
|n+G|移动到文件的第n行|
|gg|移动到文件的第一行|
|N+ENTER|光标向下移动n行|
|/word|向下查找word字符串|
|:n1,n2s/word1/word2/g|n1行到n2行查询word1并把word1替换成word2，g代表全局匹配，c代表需确认|
|dd|删除该行|
|ndd|删除光标所在的向下n行|
|nx|删除光标后n个字符|
|yy|复制该行|
|nyy|复制光标所在的向下n行|
|p|粘贴|
|:! command|不离开vi模式，执行bash命令|
## 一般模式切换编辑模式
|命令|作用|
|---|---|
|i,I|i插入，I在非空格字符插入|
|a,A|a在光标下一位插入，A同上|
|o,O|o在光标下一行进行插入，O在上一行插入|
|r,R|r替换光标所在那个字符一次，R会一直替换直到按下ESC|
## 命令行模式
|命令|作用|
|---|---|
|:w[filename]|另存为文件|
|:r[filename]|读入另一文件，并在光标后粘贴改文件内容|
|:n1,n2 w[filename]|将n1行到n2行内容保存成filename文件|
|:set nu/nonu|设置行号或不设置行号|
## 块选择
|命令|作用|
|---|---|
|v|按字符选择，移动方向键改变选择的部分|
|V|按行选择，移动方向键改变选择覆盖的行|
|ctrl+v|按块选择|
|y|复制内容|
|d|删除内容|
## 多文件编辑
vim命令后可以跟多个文件名让vim同时编辑多个文件
|命令|作用|
|---|---|
|:n|下一文件|
|:N|上一文件|
|:files|查看vim打开的所有文件
## 多窗口编辑
|命令|作用|
|---|---|
|:sp [filename]|在新窗口打开一个文件|
|ctrl+w+方向键|在窗口之间进行切换|
|ctrl+w+q|退出某个窗口|

# vim中实现代码补全
## 安装支持包
```shell
sudo apt install ctags
```
## 在/usr/include中生成关联文件
```shell
sudo ctags -R
```
## 打开vim配置文件
```shell
sudo vim /etc/vim/vimrc

# !/etc/vim/vimrc
# 文件末尾
set tags+=/usr/include/tags
set tags+=./tags
```
## 使用
```
ctrl+] 跳转到该函数和变量锁存在的函数或头文件
ctrl+o 从跳转后的地方返回文件
ctrl+p 自动补全
ctrl+} 跳到该变量第一次出现的地方
```



